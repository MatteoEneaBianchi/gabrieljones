---
layout: default
title: Trasparenza
---

<script>
  // Funzione per caricare il JSON e aggiornare la tabella
  document.addEventListener("DOMContentLoaded", function() {
    fetch('https://trasparenza.18f.it/trasparenza.json')
      .then(response => response.json())
      .then(data => {
        const tableBody = document.getElementById('document-table').getElementsByTagName('tbody')[0];

        data.forEach((item, index) => {
          // Crea una nuova riga per ogni elemento del JSON
          const row = tableBody.insertRow();

          // Colonna per il numero
          const cell1 = row.insertCell(0);
          cell1.textContent = item.numero;

          // Colonna per la tipologia
          const cell2 = row.insertCell(1);
          cell2.textContent = item.tipologia;

          // Colonna per l'oggetto
          const cell3 = row.insertCell(2);
          cell3.textContent = item.oggetto;

          // Colonna per la data di pubblicazione
          const cell4 = row.insertCell(3);
          cell4.textContent = item.pubblicazione;

          // Colonna per gli allegati
          const cell5 = row.insertCell(4);
          item.allegati.forEach(allegato => {
            const link = document.createElement('a');
            link.href = allegato.link;
            link.textContent = allegato.nome;
            link.target = "_blank";
            cell5.appendChild(link);
            cell5.appendChild(document.createElement('br'));
          });
        });
      })
      .catch(error => console.error('Errore nel caricamento dei dati JSON:', error));
  });
</script>
